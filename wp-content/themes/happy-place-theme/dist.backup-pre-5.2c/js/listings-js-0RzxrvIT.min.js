import"./chunks/unified-listings-ndqwq7v8.min.js";function g(){import.meta.url,import("_").catch(()=>1),async function*(){}().next()}(function(o){HPH.MortgageCalculator={init:function(){this.initCalculators(),this.initAffordabilityCalculator(),this.initPrequalificationForm()},initCalculators:function(){o(".mortgage-calculator").each(function(){var a=o(this);HPH.MortgageCalculator.setupCalculator(a)})},setupCalculator:function(a){var t=a.find("input, select"),e=a.find(".calculate-payment");a.find("#payment-result"),t.on("input change",HPH.debounce(function(){HPH.MortgageCalculator.calculatePayment(a)},500)),e.on("click",function(n){n.preventDefault(),HPH.MortgageCalculator.calculatePayment(a)}),HPH.MortgageCalculator.calculatePayment(a)},calculatePayment:function(a){var t=parseFloat(a.find("#loan-amount").val())||0,e=parseFloat(a.find("#interest-rate").val())||0,n=parseInt(a.find("#loan-term").val())||30,h=parseFloat(a.find("#down-payment").val())||0,u=parseFloat(a.find("#property-tax").val())||0,m=parseFloat(a.find("#home-insurance").val())||0,d=parseFloat(a.find("#pmi").val())||0,p=parseFloat(a.find("#hoa-fees").val())||0,r=t-h,l=e/100/12,i=n*12,s=0;l>0&&i>0?s=r*(l*Math.pow(1+l,i))/(Math.pow(1+l,i)-1):r>0&&i>0&&(s=r/i);var c=u/12,f=m/12,y=d/12,v=p/12,b=s+c+f+y+v;HPH.MortgageCalculator.displayResults(a,{principalInterest:s,propertyTax:c,insurance:f,pmi:y,hoaFees:v,totalPayment:b,loanAmount:t,downPayment:h,principal:r})},displayResults:function(a,t){var e=a.find("#payment-result");if(t.totalPayment<=0){e.html('<p class="hph-text-gray-600">Please enter valid loan details to calculate payment.</p>').removeClass("hph-hidden");return}var n='\n                <div class="mortgage-results hph-space-y-4">\n                    <div class="total-payment hph-text-center hph-p-4 hph-bg-primary-50 hph-rounded-lg">\n                        <div class="hph-text-sm hph-text-gray-600 hph-mb-1">Total Monthly Payment</div>\n                        <div class="hph-text-3xl hph-font-bold hph-text-primary-600">\n                            '.concat(HPH.MortgageCalculator.formatCurrency(t.totalPayment),'\n                        </div>\n                    </div>\n                    \n                    <div class="payment-breakdown hph-space-y-2">\n                        <h4 class="hph-font-semibold hph-mb-3">Payment Breakdown</h4>\n                        \n                        <div class="breakdown-item hph-flex hph-justify-between">\n                            <span>Principal & Interest</span>\n                            <span class="hph-font-medium">').concat(HPH.MortgageCalculator.formatCurrency(t.principalInterest),"</span>\n                        </div>\n                        \n                        ").concat(t.propertyTax>0?'\n                        <div class="breakdown-item hph-flex hph-justify-between">\n                            <span>Property Tax</span>\n                            <span class="hph-font-medium">'.concat(HPH.MortgageCalculator.formatCurrency(t.propertyTax),"</span>\n                        </div>\n                        "):"","\n                        \n                        ").concat(t.insurance>0?'\n                        <div class="breakdown-item hph-flex hph-justify-between">\n                            <span>Home Insurance</span>\n                            <span class="hph-font-medium">'.concat(HPH.MortgageCalculator.formatCurrency(t.insurance),"</span>\n                        </div>\n                        "):"","\n                        \n                        ").concat(t.pmi>0?'\n                        <div class="breakdown-item hph-flex hph-justify-between">\n                            <span>PMI</span>\n                            <span class="hph-font-medium">'.concat(HPH.MortgageCalculator.formatCurrency(t.pmi),"</span>\n                        </div>\n                        "):"","\n                        \n                        ").concat(t.hoaFees>0?'\n                        <div class="breakdown-item hph-flex hph-justify-between">\n                            <span>HOA Fees</span>\n                            <span class="hph-font-medium">'.concat(HPH.MortgageCalculator.formatCurrency(t.hoaFees),"</span>\n                        </div>\n                        "):"",'\n                    </div>\n                    \n                    <div class="loan-summary hph-pt-4 hph-border-t hph-space-y-2">\n                        <h4 class="hph-font-semibold hph-mb-3">Loan Summary</h4>\n                        \n                        <div class="summary-item hph-flex hph-justify-between">\n                            <span>Home Price</span>\n                            <span class="hph-font-medium">').concat(HPH.MortgageCalculator.formatCurrency(t.loanAmount),'</span>\n                        </div>\n                        \n                        <div class="summary-item hph-flex hph-justify-between">\n                            <span>Down Payment</span>\n                            <span class="hph-font-medium">').concat(HPH.MortgageCalculator.formatCurrency(t.downPayment),'</span>\n                        </div>\n                        \n                        <div class="summary-item hph-flex hph-justify-between">\n                            <span>Loan Amount</span>\n                            <span class="hph-font-medium">').concat(HPH.MortgageCalculator.formatCurrency(t.principal),'</span>\n                        </div>\n                    </div>\n                    \n                    <div class="calculator-actions hph-pt-4 hph-space-y-2">\n                        <button type="button" class="get-prequalified hph-btn hph-btn-primary hph-w-full">\n                            Get Pre-qualified\n                        </button>\n                        <button type="button" class="contact-lender hph-btn hph-btn-outline hph-w-full">\n                            Contact a Lender\n                        </button>\n                    </div>\n                </div>\n            ');e.html(n).removeClass("hph-hidden"),e.find(".get-prequalified").on("click",function(){HPH.MortgageCalculator.showPrequalificationForm(t)}),e.find(".contact-lender").on("click",function(){HPH.MortgageCalculator.contactLender(t)})},initAffordabilityCalculator:function(){o(".affordability-calculator").each(function(){var a=o(this),t=a.find("input, select"),e=a.find(".calculate-affordability");t.on("input change",HPH.debounce(function(){HPH.MortgageCalculator.calculateAffordability(a)},500)),e.on("click",function(n){n.preventDefault(),HPH.MortgageCalculator.calculateAffordability(a)})})},calculateAffordability:function(a){var t=parseFloat(a.find("#annual-income").val())||0,e=parseFloat(a.find("#monthly-debts").val())||0,n=parseFloat(a.find("#down-payment-affordability").val())||0,h=parseFloat(a.find("#interest-rate-affordability").val())||3.5,u=parseInt(a.find("#loan-term-affordability").val())||30,m=t/12,d=m*.28,p=d-e;if(p<=0){a.find("#affordability-result").html('<p class="hph-text-red-600">Based on your current debt, you may need to reduce monthly obligations before purchasing a home.</p>').removeClass("hph-hidden");return}var r=h/100/12,l=u*12,i=0;r>0?i=p*(Math.pow(1+r,l)-1)/(r*Math.pow(1+r,l)):i=p*l;var s=i+n,c='\n                <div class="affordability-results hph-space-y-4">\n                    <div class="max-price hph-text-center hph-p-4 hph-bg-green-50 hph-rounded-lg">\n                        <div class="hph-text-sm hph-text-gray-600 hph-mb-1">Maximum Home Price</div>\n                        <div class="hph-text-3xl hph-font-bold hph-text-green-600">\n                            '.concat(HPH.MortgageCalculator.formatCurrency(s),'\n                        </div>\n                    </div>\n                    \n                    <div class="affordability-breakdown hph-space-y-2">\n                        <div class="breakdown-item hph-flex hph-justify-between">\n                            <span>Maximum Monthly Payment</span>\n                            <span class="hph-font-medium">').concat(HPH.MortgageCalculator.formatCurrency(p),'</span>\n                        </div>\n                        <div class="breakdown-item hph-flex hph-justify-between">\n                            <span>Maximum Loan Amount</span>\n                            <span class="hph-font-medium">').concat(HPH.MortgageCalculator.formatCurrency(i),'</span>\n                        </div>\n                        <div class="breakdown-item hph-flex hph-justify-between">\n                            <span>Down Payment</span>\n                            <span class="hph-font-medium">').concat(HPH.MortgageCalculator.formatCurrency(n),"</span>\n                        </div>\n                    </div>\n                </div>\n            ");a.find("#affordability-result").html(c).removeClass("hph-hidden")},initPrequalificationForm:function(){o(document).on("click",".get-prequalified",function(a){a.preventDefault(),HPH.showAlert("Prequalification form would open here","info")})},showPrequalificationForm:function(a){var t='\n                <div id="prequalification-modal" class="hph-modal">\n                    <div class="hph-modal-content">\n                        <div class="hph-modal-header">\n                            <h3>Get Pre-qualified</h3>\n                            <button type="button" class="hph-modal-close">&times;</button>\n                        </div>\n                        <div class="hph-modal-body">\n                            <p>Based on your calculation, you\'re looking at a monthly payment of approximately <strong>'.concat(HPH.MortgageCalculator.formatCurrency(a.totalPayment),'</strong>.</p>\n                            <p>Would you like to get pre-qualified with one of our preferred lenders?</p>\n                            <form class="prequalification-form hph-space-y-4">\n                                <div class="hph-form-group">\n                                    <label class="hph-label">Full Name</label>\n                                    <input type="text" class="hph-input" required>\n                                </div>\n                                <div class="hph-form-group">\n                                    <label class="hph-label">Email</label>\n                                    <input type="email" class="hph-input" required>\n                                </div>\n                                <div class="hph-form-group">\n                                    <label class="hph-label">Phone</label>\n                                    <input type="tel" class="hph-input" required>\n                                </div>\n                                <button type="submit" class="hph-btn hph-btn-primary hph-w-full">\n                                    Submit Pre-qualification Request\n                                </button>\n                            </form>\n                        </div>\n                    </div>\n                </div>\n            ');o("body").append(t),HPH.openModal("prequalification-modal"),o(".prequalification-form").on("submit",function(e){e.preventDefault(),HPH.showAlert("Pre-qualification request submitted!","success"),HPH.closeModal(),setTimeout(function(){o("#prequalification-modal").remove()},500)})},contactLender:function(a){HPH.showAlert("Contact lender functionality would be implemented here","info")},formatCurrency:function(a){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(a)},formatPercentage:function(a){return a.toFixed(3)+"%"}},o(document).ready(function(){HPH.MortgageCalculator.init()})})(jQuery);window.hphDebug&&console.log("HPH Unified Listings Bundle Loaded - Gallery/Map/Filter Redundancies Eliminated");export{g as __vite_legacy_guard};
