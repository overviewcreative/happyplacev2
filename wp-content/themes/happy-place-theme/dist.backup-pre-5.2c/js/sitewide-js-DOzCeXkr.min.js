import"./chunks/navigation-BQUjlpkf.min.js";import"./chunks/universal-loop-Dtt4_HFB.min.js";function m(){import.meta.url,import("_").catch(()=>1),async function*(){}().next()}(function(n){typeof window.HPH>"u"&&(window.HPH={}),HPH.Forms={config:{ajaxUrl:window.ajaxurl||"/wp-admin/admin-ajax.php",nonce:"",debug:!1,selectors:{forms:"[data-route-type], .hph-form, .hph-general-contact-form, .hph-property-inquiry-form, .hph-agent-contact-form",validateForms:'form[data-validate="true"]',requiredFields:"input[required], select[required], textarea[required]",emailFields:'input[type="email"]',phoneFields:'input[type="tel"]',urlFields:'input[type="url"]',numberFields:'input[type="number"]'},classes:{error:"is-invalid",success:"is-valid",loading:"is-loading",disabled:"is-disabled"}},rules:{required:{test:function(e){return e&&e.trim().length>0},message:"This field is required"},email:{test:function(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)},message:"Please enter a valid email address"},phone:{test:function(e){const s=e.replace(/[\s\-\(\)\.]/g,"");return/^[\+]?[1-9][\d]{0,15}$/.test(s)},message:"Please enter a valid phone number"},url:{test:function(e){try{return new URL(e),!0}catch(s){return/^https?:\/\/.+/.test(e)}},message:"Please enter a valid URL"},number:{test:function(e){return!isNaN(e)&&e!==""},message:"Please enter a valid number"},minLength:{test:function(e,s){return e.length>=s},message:function(e){return"Please enter at least ".concat(e," characters")}},maxLength:{test:function(e,s){return e.length<=s},message:function(e){return"Please enter no more than ".concat(e," characters")}},price:{test:function(e){return/^\$?[\d,]+(\.\d{2})?$/.test(e.replace(/\s/g,""))},message:"Please enter a valid price (e.g., $250,000 or 250000)"}},init:function(){this.setupNonce(),this.bindEvents(),this.setupFormEnhancements(),this.initializeExistingForms()},setupNonce:function(){var e;this.config.nonce=n('meta[name="hph-nonce"]').attr("content")||n('input[name="hph_nonce"]').val()||n('input[name="_wpnonce"]').val()||"",this.config.ajaxUrl=((e=window.hph_ajax)==null?void 0:e.url)||window.ajaxurl||"/wp-admin/admin-ajax.php"},bindEvents:function(){n(document).off("submit.hph-forms").on("submit.hph-forms",this.config.selectors.forms,this.handleFormSubmission.bind(this)),n(document).off("blur.hph-forms").on("blur.hph-forms",this.config.selectors.requiredFields,this.validateField.bind(this)),n(document).off("input.hph-forms").on("input.hph-forms",this.config.selectors.emailFields,this.debounce(this.validateField.bind(this),300)),n(document).off("input.hph-forms").on("input.hph-forms",this.config.selectors.phoneFields,this.debounce(this.validateField.bind(this),300)),n(document).off("input.hph-forms").on("input.hph-forms",this.config.selectors.urlFields,this.debounce(this.validateField.bind(this),300)),n(document).off("input.hph-forms").on("input.hph-forms",this.config.selectors.numberFields,this.debounce(this.validateField.bind(this),300)),n(document).off("submit.hph-validate").on("submit.hph-validate",this.config.selectors.validateForms,this.validateForm.bind(this)),n(document).off("focus.hph-forms").on("focus.hph-forms","input, select, textarea",this.clearFieldValidation.bind(this)),n(document).off("hph:forms:validate").on("hph:forms:validate",this.validateForm.bind(this)),n(document).off("hph:forms:reset").on("hph:forms:reset",this.resetForm.bind(this))},handleFormSubmission:function(e){e.preventDefault(),e.stopImmediatePropagation();const s=n(e.currentTarget);if(s.data("hph-submitting"))return!1;const t=this.getFormData(s);if(this.config.debug&&console.log("Form submission debug:",{form:s[0],data:t,routeType:s.data("route-type")}),!this.validateForm.call(this,e))return!1;s.data("hph-submitting",!0);const i=s.data("route-type")||"contact",a=this.getSubmissionMethod(s,i);return this.submitForm(s,t,a),!1},getFormData:function(e){const s=new FormData(e[0]);return s.append("nonce",this.config.nonce),!s.has("route_type")&&e.data("route-type")&&s.append("route_type",e.data("route-type")),s},getSubmissionMethod:function(e,s){const t=e.find('input[name="action"]').val();return t||{contact:"hph_route_form","property-inquiry":"hph_route_form","agent-contact":"hph_route_form","valuation-request":"hph_route_form","showing-request":"hph_route_form","general-inquiry":"hph_route_form","listing-form":"hph_route_form","lead-form":"hph_route_form",lead_capture:"hph_route_form"}[s]||"hph_route_form"},submitForm:function(e,s,t){const i=this;s.append("action",t),this.setFormLoading(e,!0),n.ajax({url:this.config.ajaxUrl,type:"POST",data:s,processData:!1,contentType:!1,success:function(a){i.handleFormSuccess(e,a)},error:function(a,o,r){i.handleFormError(e,r)},complete:function(){e.removeData("hph-submitting"),i.setFormLoading(e,!1)}})},handleFormSuccess:function(e,s){var t;e.removeData("hph-submitting"),s.success?(this.showFormMessage(e,s.data.message||"Form submitted successfully!","success"),this.resetForm({target:e[0]}),e.trigger("hph:forms:success",[s]),s.data.redirect&&setTimeout(()=>{window.location.href=s.data.redirect},1500)):this.handleFormError(e,((t=s.data)==null?void 0:t.message)||"Form submission failed")},handleFormError:function(e,s){e.removeData("hph-submitting"),this.showFormMessage(e,s,"error"),e.trigger("hph:forms:error",[s])},showFormMessage:function(e,s,t="info"){e.find(".hph-form-message").remove();const i=n('\n                <div class="hph-form-message hph-form-message-'.concat(t,'">\n                    <span class="hph-form-message-text">').concat(s,'</span>\n                    <button type="button" class="hph-form-message-close">&times;</button>\n                </div>\n            '));e.prepend(i),t==="success"&&setTimeout(()=>{i.fadeOut(()=>i.remove())},5e3),i.find(".hph-form-message-close").on("click",function(){i.fadeOut(()=>i.remove())})},validateForm:function(e){const s=n(e.target||e.currentTarget);let t=!0;return s.is(this.config.selectors.validateForms)?(s.find(this.config.selectors.requiredFields).each((i,a)=>{this.validateField({target:a})||(t=!1)}),s.find(this.config.selectors.emailFields).each((i,a)=>{n(a).val()&&!this.validateField({target:a})&&(t=!1)}),s.find(this.config.selectors.phoneFields).each((i,a)=>{n(a).val()&&!this.validateField({target:a})&&(t=!1)}),!t&&e.preventDefault&&e.preventDefault(),t):!0},validateField:function(e){const s=n(e.target||e.currentTarget),t=s.val(),i=s.attr("type"),a=s.prop("required");let o=!0,r="";if(a&&!this.rules.required.test(t)&&(o=!1,r=this.rules.required.message),t&&o)switch(i){case"email":this.rules.email.test(t)||(o=!1,r=this.rules.email.message);break;case"tel":this.rules.phone.test(t)||(o=!1,r=this.rules.phone.message);break;case"url":this.rules.url.test(t)||(o=!1,r=this.rules.url.message);break;case"number":this.rules.number.test(t)||(o=!1,r=this.rules.number.message);break}if(t&&o){const l=s.data("min-length"),d=s.data("max-length");l&&!this.rules.minLength.test(t,l)&&(o=!1,r=this.rules.minLength.message(l)),d&&!this.rules.maxLength.test(t,d)&&(o=!1,r=this.rules.maxLength.message(d)),s.hasClass("price-field")&&!this.rules.price.test(t)&&(o=!1,r=this.rules.price.message)}return this.setFieldValidationState(s,o,r),o},setFieldValidationState:function(e,s,t=""){const i=e.closest(".form-group, .hph-form-group");if(e.removeClass("".concat(this.config.classes.error," ").concat(this.config.classes.success)),i.find(".invalid-feedback, .hph-field-error").remove(),s)e.addClass(this.config.classes.success);else if(e.addClass(this.config.classes.error),t){const a=n('<div class="invalid-feedback hph-field-error"></div>').text(t);i.length?i.append(a):e.after(a)}},clearFieldValidation:function(e){const s=n(e.target),t=s.closest(".form-group, .hph-form-group");s.removeClass("".concat(this.config.classes.error," ").concat(this.config.classes.success)),t.find(".invalid-feedback, .hph-field-error").remove()},setupFormEnhancements:function(){this.setupLoadingStates(),this.setupPlaceholderEnhancements(),this.setupFieldFormatting()},setupLoadingStates:function(){n(this.config.selectors.forms).each(function(){const s=n(this).find('button[type="submit"], input[type="submit"]');s.find(".loading-spinner").length||s.append('<span class="loading-spinner" style="display:none;">‚è≥</span>')})},setupPlaceholderEnhancements:function(){n("input[placeholder], textarea[placeholder]").on("focus",function(){n(this).data("original-placeholder",n(this).attr("placeholder"))}).on("blur",function(){const e=n(this).data("original-placeholder");e&&n(this).attr("placeholder",e)})},setupFieldFormatting:function(){n(this.config.selectors.phoneFields).on("input",function(){let e=n(this).val().replace(/\D/g,"");e.length>0&&(e.length<=3?e="(".concat(e):e.length<=6?e="(".concat(e.slice(0,3),") ").concat(e.slice(3)):e="(".concat(e.slice(0,3),") ").concat(e.slice(3,6),"-").concat(e.slice(6,10)),n(this).val(e))})},setFormLoading:function(e,s){const t=e.find('button[type="submit"], input[type="submit"]'),i=t.find(".loading-spinner");if(s)e.addClass(this.config.classes.loading),t.prop("disabled",!0).addClass(this.config.classes.disabled),i.show(),t.data("original-text")||t.data("original-text",t.text()),t.text("Submitting...");else{e.removeClass(this.config.classes.loading),t.prop("disabled",!1).removeClass(this.config.classes.disabled),i.hide();const a=t.data("original-text");a&&t.text(a)}},resetForm:function(e){const s=n(e.target||e.currentTarget);s[0].reset(),s.find("input, select, textarea").removeClass("".concat(this.config.classes.error," ").concat(this.config.classes.success)),s.find(".invalid-feedback, .hph-field-error").remove(),s.find(".hph-form-message").remove(),s.trigger("hph:forms:reset")},initializeExistingForms:function(){n(this.config.selectors.forms).each((e,s)=>{const t=n(s);t.attr("novalidate")||t.attr("novalidate","novalidate"),t.hasClass("needs-validation")||t.addClass("needs-validation")})},debounce:function(e,s){let t;return function(...a){const o=()=>{clearTimeout(t),e(...a)};clearTimeout(t),t=setTimeout(o,s)}},validate:function(e){const s=n(e);return this.validateForm({target:s[0]})},submit:function(e){n(e).trigger("submit")},addRule:function(e,s,t){this.rules[e]={test:s,message:t}}},n(document).ready(function(){HPH.Forms.init()}),window.FormValidation=HPH.Forms,window.HappyPlaceFormHandler=HPH.Forms,typeof module<"u"&&module.exports&&(module.exports=HPH.Forms)})(jQuery);(function(n){class e{constructor(){this.form=n(".hph-contact-form"),this.submitBtn=this.form.find('button[type="submit"]'),this.originalBtnText=this.submitBtn.text(),this.init()}init(){this.form.length!==0&&(this.bindEvents(),this.setupValidation(),this.setupEnhancements())}bindEvents(){this.form.find("input, textarea, select").on("blur",t=>{this.validateField(n(t.target))}),this.form.find("input, textarea, select").on("focus",t=>{this.clearFieldValidation(n(t.target))})}setupValidation(){this.form.find("input[required], textarea[required], select[required]").each(function(){n(this).addClass("hph-required-field")}),this.form.find('input[type="email"]').attr("data-validation","email"),this.form.find('input[type="tel"]').attr("data-validation","phone")}setupEnhancements(){this.form.find("textarea[maxlength]").each(function(){const t=n(this),i=parseInt(t.attr("maxlength")),a=n('<div class="hph-character-counter"><span class="current">0</span> / <span class="max">'.concat(i,"</span></div>"));t.after(a),t.on("input",function(){const o=this.value.length;a.find(".current").text(o),o>i*.9?a.addClass("hph-text-warning"):a.removeClass("hph-text-warning"),o>i?(a.addClass("hph-text-danger"),this.value=this.value.substring(0,i),a.find(".current").text(i)):a.removeClass("hph-text-danger")}),t.trigger("input")}),n('a[href="#contact-form"]').on("click",function(t){t.preventDefault();const i=n("#contact-form");i.length&&n("html, body").animate({scrollTop:i.offset().top-100},800)})}validateField(t){const i=t.val().trim();t.attr("name");const a=t.prop("required"),o=t.attr("type")||t.prop("tagName").toLowerCase();let r=!0,l="";if(a&&i==="")r=!1,l="This field is required";else if(o==="email"&&i!=="")/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i)||(r=!1,l="Please enter a valid email address");else if(o==="tel"&&i!==""){const h=/^[\+]?[1-9][\d]{0,15}$/,u=i.replace(/[\s\-\(\)\.]/g,"");h.test(u)||(r=!1,l="Please enter a valid phone number")}else if(o==="url"&&i!=="")try{new URL(i)}catch(h){/^https?:\/\/.+/.test(i)||(r=!1,l="Please enter a valid URL")}const d=t.attr("minlength"),c=t.attr("maxlength");return d&&i.length<parseInt(d)&&(r=!1,l="Please enter at least ".concat(d," characters")),c&&i.length>parseInt(c)&&(r=!1,l="Please enter no more than ".concat(c," characters")),this.setFieldValidation(t,r,l),r}validateForm(){let t=!0;return this.form.find("input[required], textarea[required], select[required]").each((i,a)=>{this.validateField(n(a))||(t=!1)}),this.form.find('input[type="email"], input[type="tel"], input[type="url"]').each((i,a)=>{n(a).val().trim()!==""&&!this.validateField(n(a))&&(t=!1)}),t}setFieldValidation(t,i,a=""){const o=t.closest(".form-group, .hph-form-group");if(t.removeClass("is-invalid is-valid"),o.find(".invalid-feedback, .hph-field-error").remove(),i)t.addClass("is-valid");else if(t.addClass("is-invalid"),a){const r=n('<div class="invalid-feedback hph-field-error"></div>').text(a);o.length?o.append(r):t.after(r)}}clearFieldValidation(t){const i=t.closest(".form-group, .hph-form-group");t.removeClass("is-invalid is-valid"),i.find(".invalid-feedback, .hph-field-error").remove()}clearValidation(){this.form.find("input, textarea, select").removeClass("is-invalid is-valid"),this.form.find(".invalid-feedback, .hph-field-error").remove()}submitForm(){return!1}setLoadingState(t){}showMessage(t,i){}clearMessages(){}}n(document).ready(function(){new e}),window.HPHContactForm=e})(jQuery);document.addEventListener("DOMContentLoaded",function(){function n(){const i=document.querySelector(".hph-modal");if(i){if(i.classList.add("active"),getComputedStyle(i).display!=="flex"){console.log("Simple Modal System: CSS not loaded, injecting fallback");const o=document.createElement("style");o.setAttribute("data-modal-fallback","true"),o.textContent="\n                    .hph-modal.active,\n                    .hph-lightbox.active {\n                        display: flex !important;\n                        position: fixed !important;\n                        top: 0 !important;\n                        left: 0 !important;\n                        width: 100% !important;\n                        height: 100% !important;\n                        background: rgba(0, 0, 0, 0.5) !important;\n                        z-index: 10000 !important;\n                        align-items: center !important;\n                        justify-content: center !important;\n                        animation: modalFadeIn 0.3s ease !important;\n                    }\n\n                    .hph-modal-content {\n                        background: white !important;\n                        border-radius: 8px !important;\n                        padding: 2rem !important;\n                        max-width: 90% !important;\n                        max-height: 90% !important;\n                        overflow-y: auto !important;\n                        position: relative !important;\n                    }\n\n                    @keyframes modalFadeIn {\n                        from { opacity: 0; transform: scale(0.95); }\n                        to { opacity: 1; transform: scale(1); }\n                    }\n                ",document.head.appendChild(o),console.log("Simple Modal System: Fallback CSS injected")}i.classList.remove("active")}}n(),document.querySelectorAll(".modal-trigger, [data-modal-form]").forEach(i=>{i.addEventListener("click",function(a){a.preventDefault(),a.stopPropagation();let o="hph-form-modal";i.dataset.modalId&&(o=i.dataset.modalId);const r=document.getElementById(o);if(!r)return;const l=r.querySelector(".hph-modal-title"),d=r.querySelector(".hph-modal-subtitle-section p");l&&i.dataset.modalTitle&&(l.textContent=i.dataset.modalTitle),d&&i.dataset.modalSubtitle&&(d.textContent=i.dataset.modalSubtitle),s(r)})});function s(i){i.classList.add("active"),document.body.style.overflow="hidden"}function t(i){console.log("Simple Modal System: Closing modal"),i.classList.remove("active"),document.body.style.overflow=""}document.addEventListener("click",function(i){if(i.target.matches("[data-modal-close]")||i.target.closest("[data-modal-close]")||i.target.classList.contains("hph-modal-backdrop")){const a=document.querySelector(".hph-modal.active");a&&t(a)}}),document.addEventListener("keydown",function(i){if(i.key==="Escape"){const a=document.querySelector(".hph-modal.active");a&&t(a)}}),window.openHphFormModal=function(i="hph-form-modal"){const a=document.getElementById(i);a&&s(a)},window.closeHphFormModal=function(i=null){if(i){const a=document.getElementById(i);a&&t(a)}else{const a=document.querySelector(".hph-modal.active");a&&t(a)}},window.openCustomModal=window.openHphFormModal,window.openFelloModal=()=>window.openHphFormModal("hph-fello-modal"),window.openConsultationModal=()=>window.openHphFormModal("hph-consultation-modal"),console.log("Simple Modal System: Ready")});export{m as __vite_legacy_guard};
