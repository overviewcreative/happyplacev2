/**
 * Listing Card Badges & Actions
 * Status badges and interactive action buttons for listing cards
 *
 * @package HappyPlaceTheme
 * @since 3.0.0
 */

/* ============================================================================
   CARD BADGES
   ============================================================================ */
.hph-card__badges {
    position: absolute;
    top: 0.75rem;
    left: 0.75rem;
    display: flex;
    gap: 0.5rem;
    flex-wrap: wrap;
    z-index: 2;
    max-width: calc(100% - 1.5rem);
}

.hph-badge {
    padding: 0.5rem 1rem;
    border-radius: 9999px;
    font-size: 0.75rem;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    white-space: nowrap;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    transition: all 0.3s ease;
}

.hph-badge:hover {
    transform: translateY(-2px);
}

/* Status badges */
.hph-badge--success,
.hph-badge--active,
.hph-badge--for-sale {
    background: rgba(16, 185, 129, 0.95);
    color: var(--hph-white);
    border: 1px solid rgba(16, 185, 129, 0.3);
}

.hph-badge--warning,
.hph-badge--pending {
    background: rgba(245, 158, 11, 0.95);
    color: var(--hph-white);
    border: 1px solid rgba(245, 158, 11, 0.3);
}

.hph-badge--danger,
.hph-badge--sold {
    background: rgba(239, 68, 68, 0.95);
    color: var(--hph-white);
    border: 1px solid rgba(239, 68, 68, 0.3);
}

.hph-badge--info,
.hph-badge--coming-soon {
    background: rgba(var(--hph-primary-rgb), 0.95);
    color: var(--hph-white);
    border: 1px solid rgba(var(--hph-primary-rgb), 0.3);
}

.hph-badge--featured {
    background: linear-gradient(135deg,
        rgba(81, 186, 224, 0.95),
        rgba(58, 156, 194, 0.95));
    color: var(--hph-white);
    border: 1px solid rgba(81, 186, 224, 0.3);
    box-shadow: 0 2px 8px rgba(81, 186, 224, 0.3);
}

.hph-badge--featured i {
    color: #FFD700;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
}

.hph-badge--new {
    background: linear-gradient(135deg, #667eea, #764ba2);
    color: var(--hph-white);
    animation: pulse-badge 2s infinite;
}

@keyframes pulse-badge {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.05); }
}

.hph-badge--open-house {
    background: rgba(255, 255, 255, 0.95);
    color: var(--hph-danger);
    border: 1px solid rgba(239, 68, 68, 0.3);
    font-weight: 600;
}

/* ============================================================================
   CARD ACTIONS
   ============================================================================ */
.hph-card__actions {
    position: absolute;
    top: 0.75rem;
    right: 0.75rem;
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
    opacity: 0;
    transform: translateX(10px);
    transition: all 0.3s ease;
    z-index: 3;
}

.hph-listing-card:hover .hph-card__actions,
.hph-listing-card:focus-within .hph-card__actions {
    opacity: 1;
    transform: translateX(0);
}

/* Always show on touch devices */
@media (hover: none) {
    .hph-card__actions {
        opacity: 1;
        transform: translateX(0);
    }
}

.hph-card__action-btn {
    width: 36px;
    height: 36px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: rgba(255, 255, 255, 0.95);
    border: 1px solid rgba(0, 0, 0, 0.1);
    border-radius: 50%;
    color: var(--hph-gray-600);
    cursor: pointer;
    transition: all 0.2s ease;
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.hph-card__action-btn:hover {
    background: var(--hph-white);
    transform: scale(1.1);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
}

.hph-card__action-btn:active {
    transform: scale(0.95);
}

/* Save/Favorite button */
.hph-card__save {
    color: var(--hph-gray-500);
}

.hph-card__save:hover {
    color: var(--hph-danger);
}

.hph-card__save.is-saved {
    color: var(--hph-danger);
    background: rgba(239, 68, 68, 0.1);
    border-color: rgba(239, 68, 68, 0.3);
}

.hph-card__save.is-saved i {
    animation: heartbeat 0.6s ease;
}

@keyframes heartbeat {
    0%, 100% { transform: scale(1); }
    25% { transform: scale(1.3); }
    50% { transform: scale(1.1); }
}

/* Compare checkbox */
.hph-card__compare {
    position: relative;
}

.hph-card__compare input[type="checkbox"] {
    position: absolute;
    opacity: 0;
    width: 100%;
    height: 100%;
    cursor: pointer;
    z-index: 1;
}

.hph-card__compare i {
    transition: all 0.2s ease;
}

.hph-card__compare input:checked ~ i {
    color: var(--hph-success);
}

.hph-card__compare input:checked {
    background: rgba(16, 185, 129, 0.1);
    border-color: rgba(16, 185, 129, 0.3);
}

/* Share button */
.hph-card__share {
    color: var(--hph-gray-500);
}

.hph-card__share:hover {
    color: var(--hph-primary);
}

/* Quick view button */
.hph-card__quick-view {
    color: var(--hph-gray-500);
}

.hph-card__quick-view:hover {
    color: var(--hph-info);
}

/* ============================================================================
   RESPONSIVE DESIGN
   ============================================================================ */

@media (max-width: 768px) {
    .hph-card__actions {
        opacity: 1;
        transform: none;
        flex-direction: row;
        top: auto;
        bottom: 0.5rem;
        right: 0.5rem;
    }
}

@media (max-width: 480px) {
    .hph-card__badges {
        flex-direction: column;
        align-items: flex-start;
    }

    .hph-badge {
        font-size: 0.625rem;
        padding: 0.25rem 0.5rem;
    }

    .hph-card__actions {
        opacity: 1;
        transform: none;
        flex-direction: row;
        top: auto;
        bottom: 0.5rem;
        right: 0.5rem;
    }
}

/* ============================================================================
   ACCESSIBILITY
   ============================================================================ */
@media (prefers-reduced-motion: reduce) {
    .hph-card__actions,
    .hph-card__action-btn {
        transition: none;
    }

    @keyframes heartbeat {
        from, to { transform: none; }
    }

    @keyframes pulse-badge {
        from, to { transform: none; }
    }
}

/* High contrast mode */
@media (prefers-contrast: high) {
    .hph-badge {
        border-width: 2px;
    }

    .hph-card__action-btn {
        border-width: 2px;
        border-color: var(--hph-gray-900);
    }
}